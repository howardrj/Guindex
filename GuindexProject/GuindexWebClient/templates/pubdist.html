<!DOCTYPE html>
<html lang="en">

{% load static %}

<head>
  <script>
        // Useful global constants and variables
        var G_API_BASE = location.protocol + '//' + location.hostname + ':' + location.port + '/api/';

        // Global variable to keep track of user log in state
        var g_loggedIn    = false;
        var g_accessToken = null;

  </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113016256-1"></script>
    <script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-113016256-1');
    </script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <title> Guindex </title>
  <link rel="icon" href="{% static "images/favicon.png" %}">
  <!-- Bootstrap core CSS-->
  <link rel="stylesheet" href="{% static "css/bootstrap.min.css" %}">
  <!-- Custom fonts for this template-->
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Page level plugin CSS-->
  <link rel="stylesheet" href="{% static "css/dataTables.bootstrap4.css" %}">
  <!-- Custom styles for this template-->
  <link rel="stylesheet" href="{% static "css/sb-admin.css" %}">
</head>

<body class="fixed-nav sticky-footer bg-dark" id="page-top">

  <!-- Navigation-->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
    <a class="navbar-brand" href="">Guindex</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav navbar-sidenav" id="exampleAccordion">
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Dashboard">
          <a class="nav-link" href="../../">
            <i class="fa fa-fw fa-home"></i>
            <span class="nav-link-text">Overview</span>
          </a>
        </li>
	  <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Charts">
          <a class="nav-link" href="../../map">
            <i class="fa fa-fw fa-map-o"></i>
            <span class="nav-link-text">Map</span>
          </a>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Charts">
          <a class="nav-link" href="charts.html">
            <i class="fa fa-fw fa-dashboard"></i>
            <span class="nav-link-text">Dashboard</span>
          </a>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Tables">
          <a class="nav-link" href="../../analysis">
            <i class="fa fa-fw fa-area-chart"></i>
            <span class="nav-link-text">Analysis</span>
          </a>
        </li>
	<li class="nav-item" data-toggle="tooltip" data-placement="right" title="Components">
          <a class="nav-link" href="../../submit">
            <i class="fa fa-fw fa-table"></i>
            <span class="nav-link-text">Log a Price</span>
          </a>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Components">
          <a class="nav-link" href="../../info">
            <i class="fa fa-fw fa-info"></i>
            <span class="nav-link-text">About</span>
          </a>
        </li>

      </ul>
      <ul class="navbar-nav sidenav-toggler">
        <li class="nav-item">
          <a class="nav-link text-center" id="sidenavToggler">
            <i class="fa fa-fw fa-angle-left"></i>
          </a>
        </li>
      </ul>
      <ul class="navbar-nav ml-auto">
        
       
        <li class="nav-item">
          <a class="nav-link" data-toggle="modal" id="login_link" data-target="#exampleModal">
            <i class="fa fa-fw fa-sign-in"></i>Login</a>
        </li>
      </ul>
    </div>
  </nav>
  
  <div class="content-wrapper">
<div class="pint-head">
  </div>
    <div class="container-fluid">


 <P ALIGN=CENTER><b>Furthest Distance to a County Dublin Pub</b></P><HR style="height:0.2vw;background-color:white";/>
 	    <P ALIGN=LEFT><b> We wish to find the furthest distance you can be away from a Dublin pub and still be breathing Dublin air. We also want to know where you are in county Dublin when this occurs. The solution to this problem is shown below:  </b></P>
	    <div class="illustration">
	    <P ALIGN=CENTER> <img src="../../static/images/Guindist27222pointso0point75Int.png" style="width:75%";>
	    </div>
	    <P ALIGN=LEFT><b> The solution is a logarithmic heat map of the distance to the nearest pub over the county Dublin region. We can see from the map that the most remote point in Dublin is ~9300m away from the nearest pub. This point is on the Wicklow border of Dublin in the south indicated by the green circle.   </b></P>
            <P ALIGN=LEFT><b> The extremum occurring on a boundary is a very plausible solution, consistent with looking to maximise/minimise mathematical functions over a region. The methodology used to solve this problem is now explaned:</b></P>	 
            <P ALIGN=LEFT><b>To solve this problem we need two sets of data: 1) the location of all the Dublin pubs (in some coordinate system) and 2) a polygon specifying the boundaries of county Dublin (in the same coordinate system)</b></P>
	    <P ALIGN=LEFT><b>We also require a method to calculate the physics distance, d, (in m) between any two points in the chosen coordinate system. In this work we have used (longitude,latitude) (&lambda;,  &straightphi;) spherical coordinates, so the Haversine formula (below) is the necessary equation for calculating distances. This formula calculates the distance between two points on a spherical surface of radius r (sorry flat Earthers). </b></P>
	    <div class="illustration">
	    <P ALIGN=CENTER> <img src="../../static/images/HaversineFormula.png" style="width:75%";>
	    </div>
	    <P ALIGN=LEFT><b>The difficulty then lies in defining the very irregular boundary of county Dublin. At this stage we knew nothing about shape files (which are files carrying geometrical information on geographical regions). So instead we specified the boundary by manually picking 327 points using Google Earth and forming a polygon from them. </b></P>
	    <P ALIGN=LEFT><b> To generate the coordinates interior to this polygon we formed the square bounding the polygons extreme latitude and longitude values and defined an x-y mesh over this square with a chosen granularity. The granularity (mesh step-size) was chosen to be approximately 30m. </b></P>
	    <P ALIGN=LEFT><b> We then check whether each point in the mesh is inside the county Dublin polygon and retain the points that are. </b></P>
            <P ALIGN=LEFT><b> This generated a set of 885,126 latitude longitude points constituting county Dublin. One then can, in principle, calculate the distance to the nearest pub at each of these points using the Haversine formula to obtain a distance scalar field. </b></P>
	    <P ALIGN=LEFT><b> Attempting this procedure would however take too much computer time. Instead I took 27,222 points from the 885,126 and calculated the distance to nearest pub at each of them. This represents an error inflation of approximately 5.7x so instead of having a maximum error of plus or minus 30Sqrt(2) it'll be ~ 170Sqrt(2). This isn't the biggest deal.   </b></P>        
	    <P ALIGN=LEFT><b>The picture above uses quadratic interpolation to smooth out the scalar field in between the actual calculated points. This is a procedure to allow the variation to be estimated (and visualised) at a finer scale than was considered initially. To see the effect of the interpolation consider the raw image below. We see that the interpolation smoothes out the effects of the irregularly shaped boundary. To make the scalar field drop off at the boundary I've put in an absorbing wall by appending the defined boundaries of the region with a distance value of 0 to the calculated points.</b></P>
	    <div class="illustration">
	    <P ALIGN=CENTER> <img src="../../static/images/GuinDist8000pointsOpoint65NoInt.png" style="width:75%";>
	    </div>
	    <P ALIGN=LEFT><b> (The procedure used to find the points constituting county Dublin is analogous to finding the area of some region by integration. Since we know the area of the square we can numerically estimate the area of county Dublin by looking at the fraction of points within the  polygon (Area Dublin = Fraction of points inside Polygon * Area of Square). The fraction of points falling within the polygon ~0.589 which then gives an estimate for the total area of county Dublin of 1.002904*10^9 m^2 which is 9% off the value quoted on wikipedia (9.22*10^8 m^2). Not bad considering how crudely we defined the boundary!)</b></P>
		<div class="fb-comments" data-href="https://guindex.ie/analysis/geography/" data-width="180px" data-numposts="5" colorscheme="dark"></div>
	    <P ALIGN=RIGHT>  <a href="../geography/" class="class2">Next Article</a></b></P>
 
      
    <!-- /.container-fluid-->
    <!-- /.content-wrapper-->
    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
      <i class="fa fa-angle-up"></i>
    </a>
    <!-- Login Modal-->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Login With Facebook</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">Ã—</span>
            </button>
          </div>
          <div class="modal-body" id="facebook_login_modal_body">Login with Facebook below if you would like to start contributing to the Guindex.</div>
          <div class="modal-footer">
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
            <fb:login-button id="login_with_facebook_button" scope="public_profile,email" onlogin="checkLoginState();">
            </fb:login-button>
          </div>
        </div>
      </div>
    </div>
    <!-- Bootstrap core JavaScript-->
    <script type="text/javascript" src="{% static "javascript/jquery.min.js" %}"></script>
    <script type="text/javascript" src="{% static "javascript/bootstrap.bundle.min.js" %}"></script>
    <!-- Core plugin JavaScript-->
    <script type="text/javascript" src="{% static "javascript/jquery.easing.min.js" %}"></script>
    <!-- Page level plugin JavaScript-->
    <script type="text/javascript" src="{% static "javascript/Chart.min.js" %}"></script>
    <script type="text/javascript" src="{% static "javascript/jquery.dataTables.js" %}"></script>
    <script type="text/javascript" src="{% static "javascript/dataTables.bootstrap4.js" %}"></script>
    <!-- Custom scripts for all pages-->
    <script type="text/javascript" src="{% static "javascript/sb-admin.min.js" %}"></script>
    <!-- Custom scripts for this page-->
    <script type="text/javascript" src="{% static "javascript/sb-admin-datatables.min.js" %}"></script>
    <script type="text/javascript" src="{% static "javascript/login_with_facebook.js" %}"></script>

   <script>
       // Load the Facebook SDK asynchronously
       (function(d, s, id) {
           var js, fjs = d.getElementsByTagName(s)[0];
           if (d.getElementById(id)) return;
           js = d.createElement(s); js.id = id;
           js.src = "https://connect.facebook.net/en_US/sdk.js";
           fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));
   </script>   

  </div>

</body>

</html>
